<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="653px" preserveAspectRatio="none" style="width:1648px;height:653px;background:#FFFFFF;" version="1.1" viewBox="0 0 1648 653" width="1648px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="641.9844" style="stroke:#181818;stroke-width:0.5;" width="131" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="125" x="4" y="18.0669">User Interactions</text><rect fill="#FFB6C1" height="641.9844" style="stroke:#181818;stroke-width:0.5;" width="352" x="290.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="160" x="386.5" y="18.0669">E-commerce Platform</text><rect fill="#90EE90" height="641.9844" style="stroke:#181818;stroke-width:0.5;" width="996" x="644.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="1096.5" y="18.0669">Flink Cluster</text><rect fill="#FFFFFF" height="464.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="334" y="130.6953"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="539" y="537.4219"/><rect fill="#FFFFFF" height="435.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="159.8281"/><rect fill="#FFFFFF" height="363.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="861" y="232.0938"/><rect fill="#FFFFFF" height="174.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="987" y="420.8906"/><rect fill="#FFFFFF" height="314.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="290.3594"/><rect fill="#FFFFFF" height="154.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="450.0234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1574" y="319.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1574" y="479.1563"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="66.5" x2="66.5" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="338.5" x2="338.5" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="543.5" x2="543.5" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="695.5" x2="695.5" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="866" x2="866" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="992" x2="992" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1227" x2="1227" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1409" x2="1409" y1="56.4297" y2="613.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1578.5" x2="1578.5" y1="56.4297" y2="613.6875"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="43.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="50.5" y="45.1279">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="43.5" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="50.5" y="632.6826">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="294.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="301.5" y="45.1279">Application</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="294.5" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="301.5" y="632.6826">Application</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="449.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="456.5" y="45.1279">Recommendation Engine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="449.5" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="456.5" y="632.6826">Recommendation Engine</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="648.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="655.5" y="45.1279">JobManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="648.5" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="655.5" y="632.6826">JobManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="808" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="815" y="45.1279">TaskManager1</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="808" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="815" y="632.6826">TaskManager1</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="934" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="941" y="45.1279">TaskManager2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="934" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="941" y="632.6826">TaskManager2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="1154" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1161" y="45.1279">UserEventOperator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146" x="1154" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132" x="1161" y="632.6826">UserEventOperator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="1310" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="1317" y="45.1279">RecommendationOperator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="198" x="1310" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184" x="1317" y="632.6826">RecommendationOperator</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1521.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1528.5" y="45.1279">State Backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1521.5" y="612.6875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1528.5" y="632.6826">State Backend</text><rect fill="#FFFFFF" height="464.9922" style="stroke:#181818;stroke-width:1.0;" width="10" x="334" y="130.6953"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="539" y="537.4219"/><rect fill="#FFFFFF" height="435.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="691" y="159.8281"/><rect fill="#FFFFFF" height="363.5938" style="stroke:#181818;stroke-width:1.0;" width="10" x="861" y="232.0938"/><rect fill="#FFFFFF" height="174.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="987" y="420.8906"/><rect fill="#FFFFFF" height="314.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="290.3594"/><rect fill="#FFFFFF" height="154.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="450.0234"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1574" y="319.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1574" y="479.1563"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1641.5" x="0" y="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="86.9961" y2="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="89.9961" y2="89.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="136" x="752.75" y="76.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="117" x="758.75" y="92.4966">User Interaction</text><polygon fill="#181818" points="322,126.6953,332,130.6953,322,134.6953,326,130.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="66.5" x2="328" y1="130.6953" y2="130.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="73.5" y="125.6294">Browse/Shop</text><polygon fill="#181818" points="679,155.8281,689,159.8281,679,163.8281,683,159.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="344" x2="685" y1="159.8281" y2="159.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="351" y="154.7622">Emit User Events</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1641.5" x="0" y="188.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="188.3945" y2="188.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="191.3945" y2="191.3945"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="152" x="744.75" y="177.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="750.75" y="193.895">Fetch User Events</text><polygon fill="#181818" points="849,228.0938,859,232.0938,849,236.0938,853,232.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="701" x2="855" y1="232.0938" y2="232.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="708" y="227.0278">Schedule Source Task</text><polygon fill="#181818" points="355,257.2266,345,261.2266,355,265.2266,351,261.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349" x2="860" y1="261.2266" y2="261.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="361" y="256.1606">Fetch User Events</text><polygon fill="#181818" points="1210,286.3594,1220,290.3594,1210,294.3594,1214,290.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="871" x2="1216" y1="290.3594" y2="290.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="878" y="285.2935">Assign User Events</text><polygon fill="#181818" points="1562,315.4922,1572,319.4922,1562,323.4922,1566,319.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1232" x2="1568" y1="319.4922" y2="319.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="1239" y="314.4263">Retrieve Historical Behavior</text><polygon fill="#181818" points="1243,344.625,1233,348.625,1243,352.625,1239,348.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1237" x2="1578" y1="348.625" y2="348.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1249" y="343.5591">Return Past Behavior</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1641.5" x="0" y="377.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="377.1914" y2="377.1914"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1641.5" y1="380.1914" y2="380.1914"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="329" x="656.25" y="366.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="310" x="662.25" y="382.6919">Generate Personalized Recommendations</text><polygon fill="#181818" points="1008,416.8906,998,420.8906,1008,424.8906,1004,420.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1002" x2="1221" y1="420.8906" y2="420.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1014" y="415.8247">Forward User Behavior &amp; Events</text><polygon fill="#181818" points="1392,446.0234,1402,450.0234,1392,454.0234,1396,450.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="997" x2="1398" y1="450.0234" y2="450.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1004" y="444.9575">Perform Stateful Computation</text><polygon fill="#181818" points="1562,475.1563,1572,479.1563,1562,483.1563,1566,479.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1568" y1="479.1563" y2="479.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="1421" y="474.0903">Update User Behavior</text><polygon fill="#181818" points="1425,504.2891,1415,508.2891,1425,512.2891,1421,508.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419" x2="1578" y1="508.2891" y2="508.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="1431" y="503.2231">Acknowledge Update</text><polygon fill="#181818" points="560,533.4219,550,537.4219,560,541.4219,556,537.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="554" x2="1403" y1="537.4219" y2="537.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="269" x="566" y="532.356">Generate Personalized Recommendations</text><polygon fill="#181818" points="355,562.5547,345,566.5547,355,570.5547,351,566.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="349" x2="543" y1="566.5547" y2="566.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="361" y="561.4888">Update Recommendations</text><polygon fill="#181818" points="77.5,591.6875,67.5,595.6875,77.5,599.6875,73.5,595.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="71.5" x2="338" y1="595.6875" y2="595.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="83.5" y="590.6216">Display Personalized Experience</text><!--MD5=[43d6eb4613455f94cdec1c6dce5119dd]
@startuml
box "User Interactions" #LightBlue
  participant "User" as U
end box

box "E-commerce Platform" #LightPink
  participant "Application" as App
  participant "Recommendation Engine" as RE
end box

box "Flink Cluster" #LightGreen
  participant "JobManager" as B
  participant "TaskManager1" as C1
  participant "TaskManager2" as C2
  participant "UserEventOperator" as D1
  participant "RecommendationOperator" as D2
  participant "State Backend" as F
end box

== User Interaction ==
U -> App: Browse/Shop
activate App
App -> B: Emit User Events
activate B

== Fetch User Events ==
B -> C1: Schedule Source Task
activate C1
C1 -> App: Fetch User Events
C1 -> D1: Assign User Events
activate D1
D1 -> F: Retrieve Historical Behavior
activate F
F - -> D1: Return Past Behavior
deactivate F

== Generate Personalized Recommendations ==
D1 -> C2: Forward User Behavior & Events
activate C2
C2 -> D2: Perform Stateful Computation
activate D2
D2 -> F: Update User Behavior
activate F
F - -> D2: Acknowledge Update
deactivate F
D2 -> RE: Generate Personalized Recommendations
activate RE
RE -> App: Update Recommendations
deactivate RE
App -> U: Display Personalized Experience
deactivate App

deactivate B
deactivate C1
deactivate C2
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>