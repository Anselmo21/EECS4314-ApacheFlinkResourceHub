<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1023px" preserveAspectRatio="none" style="width:1674px;height:1023px;background:#FFFFFF;" version="1.1" viewBox="0 0 1674 1023" width="1674px" zoomAndPan="magnify"><defs/><g><rect fill="#ADD8E6" height="1011.6484" style="stroke:#181818;stroke-width:0.5;" width="118" x="1" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="4" y="18.0669">Job Submission</text><rect fill="#90EE90" height="1011.6484" style="stroke:#181818;stroke-width:0.5;" width="1056.5" x="316.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="798.75" y="18.0669">Flink Cluster</text><rect fill="#FFFFE0" height="1011.6484" style="stroke:#181818;stroke-width:0.5;" width="132" x="1534.5" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="126" x="1537.5" y="18.0669">Data Source/Sink</text><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="130.6953"/><rect fill="#FFFFFF" height="805.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="463.5" y="159.8281"/><rect fill="#FFFFFF" height="585.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="633.5" y="262.0938"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="437.7578"/><rect fill="#FFFFFF" height="147.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="817.9531"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001.5" y="686.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="379.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="628.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="877.0859"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1314" y="291.2266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1314" y="569.1563"/><rect fill="#FFFFFF" height="176.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1569" y="320.3594"/><rect fill="#FFFFFF" height="176.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1569" y="569.1563"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="466.8906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="715.6875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="935.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="60" x2="60" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="367.5" x2="367.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="468.5" x2="468.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="638.5" x2="638.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="880.5" x2="880.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1006.5" x2="1006.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1201" x2="1201" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1319" x2="1319" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1573.5" x2="1573.5" y1="56.4297" y2="983.3516"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1636.5" x2="1636.5" y1="56.4297" y2="983.3516"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="37" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="44" y="45.1279">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="46" x="37" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="44" y="1002.3467">User</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="320.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="327.5" y="45.1279">JobManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="320.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="327.5" y="1002.3467">JobManager</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="425.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="432.5" y="45.1279">Job Master</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="425.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="432.5" y="1002.3467">Job Master</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="580.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="587.5" y="45.1279">TaskManager1</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="580.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="587.5" y="1002.3467">TaskManager1</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="822.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="829.5" y="45.1279">TaskManager2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="822.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="829.5" y="1002.3467">TaskManager2</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="948.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="955.5" y="45.1279">TaskManager3</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="948.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="955.5" y="1002.3467">TaskManager3</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1144" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1151" y="45.1279">State Backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1144" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1151" y="1002.3467">State Backend</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1269" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1276" y="45.1279">Source Task</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="100" x="1269" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="1276" y="1002.3467">Source Task</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1542.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1549.5" y="45.1279">Source</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="63" x="1542.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1549.5" y="1002.3467">Source</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="1615.5" y="25.1328"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="1622.5" y="45.1279">Sink</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="1615.5" y="982.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="1622.5" y="1002.3467">Sink</text><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="363" y="130.6953"/><rect fill="#FFFFFF" height="805.5234" style="stroke:#181818;stroke-width:1.0;" width="10" x="463.5" y="159.8281"/><rect fill="#FFFFFF" height="585.8594" style="stroke:#181818;stroke-width:1.0;" width="10" x="633.5" y="262.0938"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="437.7578"/><rect fill="#FFFFFF" height="147.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="875.5" y="817.9531"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001.5" y="686.5547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="379.4922"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="628.2891"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1196.5" y="877.0859"/><rect fill="#FFFFFF" height="59.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1314" y="291.2266"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1314" y="569.1563"/><rect fill="#FFFFFF" height="176.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1569" y="320.3594"/><rect fill="#FFFFFF" height="176.5313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1569" y="569.1563"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="466.8906"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="715.6875"/><rect fill="#FFFFFF" height="30" style="stroke:#181818;stroke-width:1.0;" width="10" x="1632" y="935.3516"/><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1667.5" x="0" y="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="86.9961" y2="86.9961"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="89.9961" y2="89.9961"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="131" x="768.25" y="76.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="112" x="774.25" y="92.4966">Job Submission</text><polygon fill="#181818" points="351,126.6953,361,130.6953,351,134.6953,355,130.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="60" x2="357" y1="130.6953" y2="130.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252" x="67" y="125.6294">Submit Job (Define Source, Sink, Tasks)</text><polygon fill="#181818" points="451.5,155.8281,461.5,159.8281,451.5,163.8281,455.5,159.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="373" x2="457.5" y1="159.8281" y2="159.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="380" y="154.7622">Assign Job</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1667.5" x="0" y="218.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="218.3945" y2="218.3945"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="221.3945" y2="221.3945"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="129" x="769.25" y="207.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="110" x="775.25" y="223.895">Task Execution</text><polygon fill="#181818" points="621.5,258.0938,631.5,262.0938,621.5,266.0938,625.5,262.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="473.5" x2="627.5" y1="262.0938" y2="262.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="480.5" y="257.0278">Schedule Source Task</text><polygon fill="#181818" points="1302,287.2266,1312,291.2266,1302,295.2266,1306,291.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="1308" y1="291.2266" y2="291.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="650.5" y="286.1606">Assign Configuration/Metadata</text><polygon fill="#181818" points="1557,316.3594,1567,320.3594,1557,324.3594,1561,320.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1324" x2="1563" y1="320.3594" y2="320.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1331" y="315.2935">Connect and Ingest Data (Batch 1)</text><polygon fill="#181818" points="1184.5,375.4922,1194.5,379.4922,1184.5,383.4922,1188.5,379.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="1190.5" y1="379.4922" y2="379.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="650.5" y="374.4263">Save State Snapshot (Snapshot 1)</text><polygon fill="#181818" points="654.5,404.625,644.5,408.625,654.5,412.625,650.5,408.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648.5" x2="1200.5" y1="408.625" y2="408.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="660.5" y="403.5591">Acknowledge Snapshot 1 Saved</text><polygon fill="#181818" points="863.5,433.7578,873.5,437.7578,863.5,441.7578,867.5,437.7578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="869.5" y1="437.7578" y2="437.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="650.5" y="432.6919">Process and Send Data (Batch 1)</text><polygon fill="#181818" points="1620,462.8906,1630,466.8906,1620,470.8906,1624,466.8906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="1626" y1="466.8906" y2="466.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="892.5" y="461.8247">Send Data to Sink</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1667.5" x="0" y="525.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="525.457" y2="525.457"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="528.457" y2="528.457"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="187" x="740.25" y="514.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="168" x="746.25" y="530.9575">Take Second Snapshot</text><polygon fill="#181818" points="1557,565.1563,1567,569.1563,1557,573.1563,1561,569.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1324" x2="1563" y1="569.1563" y2="569.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="1331" y="564.0903">Ingest Data (Batch 2)</text><polygon fill="#181818" points="1184.5,624.2891,1194.5,628.2891,1184.5,632.2891,1188.5,628.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="1190.5" y1="628.2891" y2="628.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="650.5" y="623.2231">Save State Snapshot (Snapshot 2)</text><polygon fill="#181818" points="654.5,653.4219,644.5,657.4219,654.5,661.4219,650.5,657.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="648.5" x2="1200.5" y1="657.4219" y2="657.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="660.5" y="652.356">Acknowledge Snapshot 2 Saved</text><polygon fill="#181818" points="989.5,682.5547,999.5,686.5547,989.5,690.5547,993.5,686.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="643.5" x2="995.5" y1="686.5547" y2="686.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="650.5" y="681.4888">Process and Send Data (Batch 2)</text><polygon fill="#181818" points="1620,711.6875,1630,715.6875,1620,719.6875,1624,715.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011.5" x2="1626" y1="715.6875" y2="715.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1018.5" y="710.6216">Send Data to Sink</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="1667.5" x="0" y="774.2539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="774.2539" y2="774.2539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="1667.5" y1="777.2539" y2="777.2539"/><rect fill="#EEEEEE" height="23.1328" style="stroke:#000000;stroke-width:2.0;" width="111" x="778.25" y="763.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="784.25" y="779.7544">Fault Occurs</text><polygon fill="#181818" points="863.5,813.9531,873.5,817.9531,863.5,821.9531,867.5,817.9531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="473.5" x2="869.5" y1="817.9531" y2="817.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="480.5" y="812.8872">Reschedule Task</text><polygon fill="#181818" points="1184.5,873.0859,1194.5,877.0859,1184.5,881.0859,1188.5,877.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="1190.5" y1="877.0859" y2="877.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="292" x="892.5" y="872.02">Retrieve Latest Saved Snapshot (Snapshot 2)</text><polygon fill="#181818" points="896.5,902.2188,886.5,906.2188,896.5,910.2188,892.5,906.2188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="890.5" x2="1200.5" y1="906.2188" y2="906.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="902.5" y="901.1528">Return Snapshot 2</text><polygon fill="#181818" points="1620,931.3516,1630,935.3516,1620,939.3516,1624,935.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="885.5" x2="1626" y1="935.3516" y2="935.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="892.5" y="930.2856">Resume Data Processing from Snapshot 2</text><!--MD5=[8d3eafa216b3a83c1521871a261410ef]
@startuml
box "Job Submission" #LightBlue
  participant "User" as U
end box

box "Flink Cluster" #LightGreen
  participant "JobManager" as JM
  participant "Job Master" as JMaster
  participant "TaskManager1" as TM1
  participant "TaskManager2" as TM2
  participant "TaskManager3" as TM3
  participant "State Backend" as SB
  participant "Source Task" as ST
end box

box "Data Source/Sink" #LightYellow
  participant "Source" as S
  participant "Sink" as SK
end box

== Job Submission ==

U -> JM: Submit Job (Define Source, Sink, Tasks)
activate JM
JM -> JMaster: Assign Job
activate JMaster
deactivate JM

== Task Execution ==
JMaster -> TM1: Schedule Source Task
activate TM1
TM1 -> ST: Assign Configuration/Metadata
activate ST
ST -> S: Connect and Ingest Data (Batch 1)
activate S
deactivate ST

TM1 -> SB: Save State Snapshot (Snapshot 1)
activate SB
SB - -> TM1: Acknowledge Snapshot 1 Saved
deactivate SB

TM1 -> TM2: Process and Send Data (Batch 1)
activate TM2
TM2 -> SK: Send Data to Sink
activate SK
deactivate SK
deactivate S
deactivate TM2

== Take Second Snapshot ==

ST -> S: Ingest Data (Batch 2)
activate ST
activate S
deactivate ST

TM1 -> SB: Save State Snapshot (Snapshot 2)
activate SB
SB - -> TM1: Acknowledge Snapshot 2 Saved
deactivate SB

TM1 -> TM3: Process and Send Data (Batch 2)
activate TM3
TM3 -> SK: Send Data to Sink
activate SK
deactivate SK
deactivate S
deactivate TM3

== Fault Occurs ==

JMaster -> TM2: Reschedule Task
activate TM2
deactivate TM1

TM2 -> SB: Retrieve Latest Saved Snapshot (Snapshot 2)
activate SB
SB - -> TM2: Return Snapshot 2
deactivate SB

TM2 -> SK: Resume Data Processing from Snapshot 2
activate SK
deactivate SK

deactivate TM2
deactivate JMaster
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>